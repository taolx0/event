;
/* module-key = 'com.atlassian.jira.jira-projects-plugin:sidebar-last-visited', location = '/sidebar/lastvisited/last-visited-updater.js' */
define("jira/projects/sidebar/lastvisited/updater",["jira/api/projects","jira/util/logger","wrm/context-path","jquery"],function(d,b,a,e){function c(f,g,h){if(!f){return}h=h||function(){b.trace("last.visited.item.saved")};e.ajax({url:a()+"/rest/projects/1.0/project/"+encodeURIComponent(f)+"/lastVisited",type:"PUT",contentType:"application/json",data:JSON.stringify({id:g})}).done(h)}return{start:function(g,i){var f=d.getCurrentProjectKey();var h=g.getSelectedNavigationItem();if(h){c(f,h.getId(),i)}g.on("before:navigate:prevented",function(j){c(f,j.emitter.id,i)});g.on("before:select",function(j){if(j.isInitial){c(f,j.emitter.id,i)}})}}});AJS.namespace("JIRA.Projects.Sidebar.LastVisited.Updater",null,require("jira/projects/sidebar/lastvisited/updater"));;