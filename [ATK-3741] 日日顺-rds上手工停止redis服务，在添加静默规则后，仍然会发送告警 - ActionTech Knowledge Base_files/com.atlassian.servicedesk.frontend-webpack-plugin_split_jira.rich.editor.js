;
/* module-key = 'com.atlassian.servicedesk.frontend-webpack-plugin:split_jira.rich.editor', location = 'jira.rich.editor.8cfad960f37dcc5984cd.js' */
(window.jsdsjsonp=window.jsdsjsonp||[]).push([[180],{105:function(e,t,n){"use strict";var s=n(6),a=n.n(s),o=n(3),r=n(25),i=n(2),c=n(29);t.a=i.a.Model.extend({namedAttributes:{id:Number,title:String,text:String,html:String,createdUser:String,lastUpdatedDate:Number,lastUpdatedDateFormatted:String,lastUpdatedUser:String,totalUsageCount:Number,enabled:Boolean,unresolvedVariables:[String]},urlRoot:function(){return a()()+"/"+c.a.CR_REST_API_ROOT+"/templates/"+this.options.projectKey},initialize:function(e,t){this.options=t},save:function(e,t){return this.isNew()||this.unset("html").unset("createdUser").unset("lastUpdatedDate").unset("lastUpdatedDateFormatted").unset("lastUpdatedUser").unset("totalUsageCount").unset("unresolvedVariables").setEnabled(!0),r.default.Model.prototype.save.call(this,e,t)},validate:function(){var e=[],t=this.escape("title"),n=this.escape("text");return t&&0!==t.trim().length||e.push({field:"title",errorMessage:"You need to give your response a name so you can find it later"}),n&&0!==n.trim().length||e.push({field:"text",errorMessage:"You need to add some content to your response"}),e.length?e:null}})},114:function(e,t,n){"use strict";var s=n(6),a=n.n(s),o=n(2),r=n(25),i=n(105),c=n(29);t.a=o.a.Collection.extend({url:function(){return a()()+"/"+c.a.CR_REST_API_ROOT+"/search/"+this.options.projectKey},model:i.a,initialize:function(e,t){this.options=t},parse:function(e){return e?e.cannedResponses.map(function(e){var t=e.id,n=e.title,s=e.content,a=s.text,o=s.html,r=s.unresolvedVariables,i=e.lastUpdatedDate;return{id:t,title:n,text:a,html:o,createdUser:e.createdUser,lastUpdatedDate:i,lastUpdatedUser:e.lastUpdatedUser,totalUsageCount:e.totalUsageCount,unresolvedVariables:r}}):[]},fetchFrequentlyUsed:function(e){var t=e.limit,n=e.issueKey;this.fetch({data:{limit:t,daysSince:c.a.DAYS_SINCE,limitUsagesToUser:!0,substitute:!0,issueKey:n},options:{reset:!0}})},fetchPopular:function(e){var t=e.limit,n=e.issueKey;this.fetch({data:{limit:t,substitute:!0,issueKey:n},options:{reset:!0}})},_prepareModel:function(e,t){return t.projectKey=this.options.projectKey,r.default.Collection.prototype._prepareModel.call(this,e,t)}})},117:function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m});var s=n(15),a=n.n(s),o=n(0),r=n(1),i=n(25),c=n(29),l=n(81),d=n(28),u=n.n(d),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var h=r.default.extend({},i.default.Events),g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventBus=r.default.extend({},i.default.Events),this.$contextElement=t}return p(e,[{key:"showMenuDropdown",value:function(e){this.eventBus.trigger("cannedresponses:showMenuDropdown",e),this.eventBus.trigger("cannedresponses:showMenuDropdown:"+this._getMode(),e)}},{key:"unhover",value:function(){this.eventBus.trigger("cannedresponses:unhover"),this.eventBus.trigger("cannedresponses:unhover:"+this._getMode())}},{key:"preview",value:function(e){this.eventBus.trigger("cannedresponses:preview",e),this.eventBus.trigger("cannedresponses:preview:"+this._getMode(),e)}},{key:"search",value:function(e){this.eventBus.trigger("cannedresponses:search",e)}},{key:"select",value:function(e){this.eventBus.trigger("cannedresponses:select",e),this.eventBus.trigger("cannedresponses:select:"+this._getMode(),e.cannedResponse)}},{key:"openAddDialog",value:function(e){this.eventBus.trigger("cannedresponses:openAddDialog",e)}},{key:"openUpdateDialog",value:function(e){this.eventBus.trigger("cannedresponses:openUpdateDialog",e)}},{key:"openDeleteDialog",value:function(e){this.eventBus.trigger("cannedresponses:openDeleteDialog",e)}},{key:"openManageDialog",value:function(e){this.eventBus.trigger("cannedresponses:openManageDialog",e)}},{key:"save",value:function(e){this.eventBus.trigger("cannedresponses:"+e),this.globalEvents.trigger("cannedresponses:"+e)}},{key:"delete",value:function(){this.eventBus.trigger("cannedresponses:delete"),this.globalEvents.trigger("cannedresponses:delete")}},{key:"adjustHeight",value:function(e){this.eventBus.trigger("cannedresponses:adjustHeight",e)}},{key:"addVariable",value:function(e){this.eventBus.trigger("cannedresponses:addVariable",e)}},{key:"getIssueKey",value:function(){return this.$contextElement.attr("data-issue-key")}},{key:"isRteEnabled",value:function(){return this.$contextElement.attr("data-is-rte-enabled")}},{key:"getCommentMarkupVal",value:function(){return Object(o.default)(this.entry.textArea).val()}},{key:"destroy",value:function(){this.rteView&&this.rteView.remove(),this.crDropdown.unbindJiraEvents(),this.eventBus.off()}},{key:"_getMode",value:function(){if(this.entry.isTextMode())return l.a.Modes.TEXT;if(this.entry.isVisualMode())return l.a.Modes.VISUAL;throw new Error("Unable to identified active mode for RTE")}},{key:"getProjectKey",value:function(){if(a.a&&r.default.isFunction(a.a.get)&&a.a.get("projectKey"))return a.a.get("projectKey");if(u.a&&r.default.isFunction(u.a.getIssueKey)&&u.a.getIssueKey()){var e=u.a.getIssueKey();return e.substring(0,e.indexOf("-"))}if(this.getIssueKey()){var t=this.getIssueKey();return t.substring(0,t.indexOf("-"))}throw new Error("Couldn't find project key on this context")}},{key:"globalEvents",get:function(){return h}}]),e}(),f={contextSelector:c.a.CR_CONTEXT_SELECTOR,contextDataIdentifier:"cannedResponsesContext",registeredContexts:{},getOrCreateContext:function(e,t){var n=e.parents(this.contextSelector);if(1!==n.length)throw new Error("Not exactly one context element, identified by "+this.contextSelector+", found as parent of element "+e.attr("id"));var s=n.data(this.contextDataIdentifier);return s||(s=new g(n),n.data(this.contextDataIdentifier,s),e.data(this.contextDataIdentifier,s)),t&&!this.registeredContexts[t]&&(this.registeredContexts[t]=s),s},destroy:function(e){this.registeredContexts[e]&&this.registeredContexts[e].destroy()}},m=function(e){return e.rteElement.parents(c.a.CR_CONTEXT_SELECTOR).length>0}},128:function(e,t,n){"use strict";var s=n(2);t.a=s.a.View.extend({initialize:function(e){var t=e.context,n=e.editor;this.editor=n,this.state={selectedContent:null},this.context=t,this.listenTo(this.context.eventBus,"cannedresponses:showMenuDropdown:"+this._getMode(),this._storeState),this.listenTo(this.context.eventBus,"cannedresponses:unhover:"+this._getMode(),this._restoreState),this.listenTo(this.context.eventBus,"cannedresponses:preview:"+this._getMode(),this._preview),this.listenTo(this.context.eventBus,"cannedresponses:select:"+this._getMode(),this._storePreview)},_storeState:function(){},_restoreState:function(){},_preview:function(){},_storePreview:function(){},_getMode:function(){}})},129:function(e,t,n){"use strict";var s=n(3),a=n(47),o=n.n(a),r=n(9),i=n.n(r),c=n(0),l=n(71),d=n(31),u=n(8),p=n(61),h=n(463),g=(n(87),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e});t.a=l.a.extend({className:"cannedresponses-edit-dialog aui-dialog2 aui-dialog2-large",id:"crEditDialog",template:ServiceDesk.Internal.CannedResponses.Templates.editDialog,mixins:[d.a],events:function(){return g(l.a.prototype.events,{"click .dialog-submit-button":"_submit","submit form":"_submit"})},initialize:function(e){var t=e.context,n=e.model;this.context=t,this.model=n,this.action=n.isNew()?"add":"update",this.substitutionVariables=this._getSubstitutionVariables(),this.on("showDialog",this._onShow.bind(this))},_getSubstitutionVariables:function(){var e=p.a.substitutionVariables||{};return Object.keys(e).reduce(function(t,n){return t.concat([{key:n,label:e[n]}])},[])},_submit:function(e){var t=this;e.preventDefault(),this.model.setTitle(this.$("#cr-title").val()),this.model.setText(this.$("#cr-text").val()),this.$("div.error").empty();var n=this.model.validate();if(n)this.applyFieldErrors(n);else{var s=i()();this.model.save().done(function(){return s.resolve()}).fail(function(e){s.reject(Object(u.d)(e))}),this.handleSubmit(s).done(function(){return t._successfulSave()})}},_insertVariable:function(e){e.preventDefault();var t=e.target.getAttribute("data-variable-key"),n="${"+t+"}",s=this.$el.find("#cr-text");h.a.getInsertTextEditorExtension(s).insertText(n),this.context.addVariable({variableKey:t})},_successfulSave:function(){this._createSuccessFlag(),this._closeDialog(),this.context.save(this.action)},_createSuccessFlag:function(){var e="add"===this.action?s.format("{0} has been saved","<b>"+this.model.escape("title")+"</b>"):s.format("{0} has been edited","<b>"+this.model.escape("title")+"</b>");return o()({type:"success",close:"auto",body:e})},_onShow:function(){Object(c.default)("#insert-variable").find(".variable").on("click",this._insertVariable.bind(this))},render:function(){return this.$el.html(this.template({cannedResponse:this.model.toJSON(),issueKey:this.context.getIssueKey(),isRteEnabled:this.context.isRteEnabled(),action:this.action,variables:this.substitutionVariables})),this}})},130:function(e,t){e.exports=require("jira/editor/registry")},139:function(e,t){e.exports=require("jira/ajs/select/fetchers/ajax-descriptor-fetcher")},159:function(e,t,n){"use strict";var s=n(139),a=n.n(s);t.a=function(e){var t=e.searchAttributes,n=e.url,s=e.parseFunction;return new a.a({query:!0,minQueryLength:0,url:n,data:t,timeout:3e5,formatResponse:function(e){return{cannedResponses:s(e),totalCount:e?e.totalHits:null}}})}},160:function(e,t,n){"use strict";var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t}return s(e,[{key:"insertText",value:function(){}}]),e}();t.a=a},224:function(e,t){e.exports=require("jira/jquery/plugins/livestamp/time")},242:function(e,t,n){"use strict";var s=n(0),a=n(16),o=n(66),r=(n(575),n(573),1),i=1,c=1,l=5,d=10,u=ServiceDesk.Templates.Components.paginator;function p(e){var t=Object(s.default)(e),n=parseInt(t.attr("max-pages-shown"),d)||l;n<r&&(n=l);var a=parseInt(t.attr("num-pages"),d)||i,o=parseInt(t.attr("current-page"),d)||c;t.html(u(function(e,t,n){var s=void 0,a=void 0;if(e>=r&&e<=t){var o=void 0;o=n%2==1?n:n-1;var i=Math.floor(o/2),c=n-1;s=Math.max(r,Math.min(e-i,t-c)),a=Math.min(t,s+c)}else s=r,a=Math.min(n,e);return{startPage:s,endPage:a,currentPage:e}}(o,a,n)))}function h(e,t){var n=Object(s.default)(e);n.attr("current-page",t),n.trigger("page-change",t)}t.a=Object(o.a)("sd-paginator",{type:a.a.types.TAG,attributes:{"current-page":p,"num-pages":p,"max-pages-shown":p},events:{"click .js-page":function(e,t){h(e,Object(s.default)(t.target).closest(".js-page").attr("page-index"))},"click .js-next-page":function(e){var t=parseInt(Object(s.default)(e).attr("current-page"),d)+1;t<=Object(s.default)(e).attr("num-pages")&&h(e,t)},"click .js-prev-page":function(e){var t=parseInt(Object(s.default)(e).attr("current-page"),d)-1;t>0&&h(e,t)}}})},257:function(e,t,n){"use strict";var s=n(2);n(589),n(588);t.a=s.a.View.extend({events:{"input .js-search-field":"_handleInput","click .js-clear-query":"_handleClearQuery","submit form.aui":"_handleFormSubmit"},template:ServiceDesk.Templates.SearchInput.content,render:function(){return this.$el.html(this.template({searchPlaceholder:this.options.searchPlaceholder||"",searchIntro:this.options.searchIntro||""})),this._$clearQueryIcon=this.$(".js-clear-query"),this._$searchField=this.$(".js-search-field"),this._$spinner=this.$(".js-spinner"),this},_getSearchInputElement:function(){return this.$(".sd-search-input")},_handleInput:function(){this._updateClearQueryIcon();var e=this._$searchField.val();this.trigger("change",{value:e})},_handleClearQuery:function(){this._$searchField.val(""),this._$searchField.focus(),this._updateClearQueryIcon(),this.trigger("change",{value:""})},_handleFormSubmit:function(e){e.preventDefault()},_toggleClearQueryIcon:function(e){this._getSearchInputElement().toggleClass("sd-search-input-has-query",e)},_hideClearQueryIcon:function(){this._toggleClearQueryIcon(!1)},_hasQuery:function(){return Boolean(this.value())},_updateClearQueryIcon:function(){this._toggleClearQueryIcon(this._hasQuery())},value:function(){return this._$searchField.val()},setData:function(e){var t=this;Object.keys(e).forEach(function(n){t.$el.attr("data-"+n,e[n])})},getData:function(){return this.$el.data()},showSpin:function(){this._hideClearQueryIcon(),this._$spinner.show(),this._getSearchInputElement().addClass("sd-search-input-has-spin")},stopSpin:function(){this._updateClearQueryIcon(),this._$spinner.hide(),this._getSearchInputElement().removeClass("sd-search-input-has-spin")},isSpinVisible:function(){return this._getSearchInputElement().hasClass("sd-search-input-has-spin")}})},264:function(e,t,n){"use strict";var s=n(1),a=n(2),o=n(5),r=n(11),i=n.n(r),c=n(139),l=n.n(c),d=n(257);n(601);t.a=a.a.View.extend({namedEvents:["dataRequested","dataReceived"],template:ServiceDesk.Templates.SearchInput.content,initialize:function(){this.options.descriptorFetcher?this.descriptorFetcher=this.options.descriptorFetcher:this.descriptorFetcher=new l.a({query:!0,minQueryLength:0,url:this.options.url+"/search",data:this._extendDataBeforeFetch.bind(this),timeout:3e5,formatResponse:function(e){return e}}),this.options.fastQuery||(this._handleInput=s.default.debounce(this._handleInput,200)),this._simpleSearchInputView=new d.a({searchIntro:this.options.searchIntro,searchPlaceholder:this.options.searchPlaceholder}),this.listenTo(this._simpleSearchInputView,"change",this._handleInput)},_extendDataBeforeFetch:function(e){var t={query:e};return this.pageNumber&&(t.page=this.pageNumber),t},_handleRequestAbort:function(e,t,n){var s=e.outstandingRequest;!s||s.aborted||s.successful||(s.abort(),t&&this._stopSpin(),this.trigger(n))},_handleInput:function(){var e=this;this.handleSearch().always(function(){e.options.trackLink&&o.a.trackEvent(e.options.trackLink)})},handleSearch:function(e){var t=this;e=e||{};var n=this._simpleSearchInputView.value(),s=e.pageNumber;return e.stayOnCurrentPage&&!s&&(s=this.pageNumber),!this.options.alwaysIncludePageNumberOnEmptyQuery||n||s||(s=1),this._handleRequestAbort(this.descriptorFetcher,Boolean(s),"dataAborted"),this.pageNumber=s,this.query=n,this.trigger("dataRequested",{pageNumber:s,query:n}),Boolean(s)||e.noSpinner||this._showSpin(),this.descriptorFetcher.execute(n).done(function(e){t.trigger("dataReceived",e),e&&t._simpleSearchInputView.setData({query:e.query,page:e.pageNumber}),i.a.trace("sd.component.search.input.search.completed")}).always(function(){s||t._stopSpin()})},render:function(){return this._simpleSearchInputView.setElement(this.$el).render(),this},isQueryEmpty:function(){return!this.query},_showSpin:function(){this._simpleSearchInputView.showSpin()},_stopSpin:function(){this._simpleSearchInputView.stopSpin()}})},29:function(e,t,n){"use strict";t.a={CR_REST_API_ROOT:"rest/servicedesk/canned-responses/1",CR_TRIGGER:"[",CR_CONTEXT_SELECTOR:".js-cannedresponses-context",MAX_RESULTS_TOP_LISTS:5,MAX_RESULTS_SEARCH:10,MAX_RESULTS_MANAGEMENT:10,DAYS_SINCE:30,CR_SELECT_SOURCES:{DROPDOWN:"menu.dropdown",AUTOCOMPLETE:"autocomplete"},CR_SEARCH_SOURCES:{DROPDOWN:"menu.dropdown",MANAGEMENT:"management"},CR_ADD_SOURCES:{DROPDOWN:"menu.dropdown",MANAGEMENT:"management"},CR_DELETE_SOURCES:{MANAGEMENT:"management"},CR_UPDATE_SOURCES:{MANAGEMENT:"management"}}},453:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(6),a=n.n(s),o=n(1),r=n(8),i=n(29),c=function(e){var t=e.context;e.context.eventBus.on("cannedresponses:select",function(e){var n=e.cannedResponse;Object(r.e)(a()()+"/"+i.a.CR_REST_API_ROOT+"/usage/"+t.getProjectKey(),o.default.pick(n,"id"))})}},454:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n(5),a=n(15),o=n.n(a),r=n(61),i=function(){return o.a.getBoolean("isAdmin")},c=function(e){var t=e.context.eventBus;t.on("cannedresponses:showMenuDropdown",function(){s.a.trackEvent("servicedesk.cannedresponses.menu.dropdown.show",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:select",function(e){var t=e.source,n=e.group;s.a.trackEvent("servicedesk.cannedresponses."+t+".select."+n,{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:search",function(e){var t=e.source;s.a.trackEvent("servicedesk.cannedresponses."+t+".search",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:openAddDialog",function(e){var t=e.source;s.a.trackEvent("servicedesk.cannedresponses."+t+".open.add.dialog",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:openUpdateDialog",function(e){var t=e.source;s.a.trackEvent("servicedesk.cannedresponses."+t+".open.update.dialog",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:openDeleteDialog",function(e){var t=e.source;s.a.trackEvent("servicedesk.cannedresponses."+t+".open.delete.dialog",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:add",function(){s.a.trackEvent("servicedesk.cannedresponses.add",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:update",function(){s.a.trackEvent("servicedesk.cannedresponses.update",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:delete",function(){s.a.trackEvent("servicedesk.cannedresponses.delete",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:openManageDialog",function(e){var t=e.source;s.a.trackEvent("servicedesk.cannedresponses."+t+".open.manage.dialog",{isAdmin:i(),userId:r.a.userId})}),t.on("cannedresponses:addVariable",function(e){var t=e.variableKey;s.a.trackEvent("servicedesk.cannedresponses.insert.variable",{isAdmin:i(),userId:r.a.userId,variableKey:t})})}},455:function(e,t,n){"use strict";var s=n(0),a=n(29),o=n(81),r=n(128);n(87);t.a=r.a.extend({events:{keypress:"_onTextareaKeypress"},_onTextareaKeypress:function(e){var t=e.which;String.fromCharCode(t),a.a.CR_TRIGGER},_getMode:function(){return o.a.Modes.VISUAL},_storeState:function(){return this.state.selectedContent=this.editor.selection.getContent(),this.editor.selection.setContent('<span id="sel_remembered">'+this.state.selectedContent+"</span>"),Object(s.default)(this.editor.getBody()).find("#sel_remembered")},_restoreState:function(){Object(s.default)(this.editor.getBody()).find("#sel_remembered").replaceWith(this.state.selectedContent)},_preview:function(e){var t=e.html,n=Object(s.default)(this.editor.getBody()).find("#sel_remembered");n.length||(n=this._storeState()),n.html(this._prepareCannedResponseHtml(t))},_prepareCannedResponseHtml:function(e){var t=Object(s.default)(e);return t.length>1?t.toArray().reduce(function(e,t){return t.outerHTML?e+t.outerHTML:e},""):1===t.length?t[0].innerHTML:""},_storePreview:function(){var e=Object(s.default)(this.editor.getBody()).find("#sel_remembered");this.editor.undoManager.add(),e.length>0&&(this.editor.selection.select(e[0]),this.editor.selection.setContent(e.html())),this.editor.focus()}})},456:function(e,t,n){"use strict";var s=n(0),a=n(29),o=n(81),r=n(128);n(87);t.a=r.a.extend({initialize:function(e){for(var t,n=arguments.length,s=Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];(t=r.a.prototype.initialize).call.apply(t,[this,e].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(s))),this.listenTo(e.context.eventBus,"cannedresponses:adjustHeight",this._adjustViewHeight)},events:{keypress:"_onTextareaKeypress"},_getMode:function(){return o.a.Modes.TEXT},_onTextareaKeypress:function(e){var t=e.which;String.fromCharCode(t),a.a.CR_TRIGGER},getValue:function(){return this.$el.val()},_storeState:function(e){var t=e.textAreaState;this.state=t},_restoreState:function(){if(!this.state.itemSelected){this.$el.val(this.state.originalText).removeAttr("disabled");var e=this.state,t=e.caretSelectionStart,n=e.caretSelectionEnd;this._getEditor().manipulationEngine.setSelection(t,n)}},_preview:function(e){var t=e.text;this.$el.val(this._embedText(t)).attr("disabled","disabled"),this.state.itemSelected=!1},_storePreview:function(e){var t=e.text;this.$el.val(this._embedText(t)).removeAttr("disabled").keyup(),this._insertText(t)},_getEditor:function(){return this.$el.data("wikiEditor")},_insertText:function(e){this.$el.val(this._embedText(e));var t=this._getEditor(),n=t.undoRedoEl,s=t.manipulationEngine;n.recordHistoryItem(),this.state.itemSelected=!0,this.$el.focus();var a=this.state,o=a.caretSelectionStart,r=a.caretSelectionEnd;o!==r?r+e.length===0?s.setSelection(o,r+e.length):s.setSelection(o,r+e.length-1):s.setSelection(o+e.length,r+e.length)},_embedText:function(e){var t=this.state.originalText,n=this.state,s=n.caretSelectionStart,a=n.caretSelectionEnd,o=null!=a;return s=null!=s?s:t.length,a=o?a:t.length,t.substring(0,s)+e+t.substring(a,t.length)},_adjustViewHeight:function(e){var t=e.dropdownHeight,n=this.$el.parents(".wiki-edit-content").height();Object(s.default)("#cr-dropdown-height-adjustment").remove(),t>n&&this.$el.parents("#addcomment,sd-comment-field").after('<div id="cr-dropdown-height-adjustment" style="height:'+(t-n)+'px;"></div>')}})},457:function(e,t,n){"use strict";var s=n(2);n(87);t.a=s.a.View.extend({className:"aui-buttons",id:"crToolbarMenuItem",events:{"click #crLink":"_onClickMenuItem"},initialize:function(e){var t=e.context,n=e.$textArea,s=e.dropdownId;this.context=t,this.$textArea=n,this.dropdownId=s},_onClickMenuItem:function(){this.context.showMenuDropdown({textAreaState:{originalText:this.$textArea.val(),caretSelectionStart:this.$textArea.prop("selectionStart"),caretSelectionEnd:this.$textArea.prop("selectionEnd")}})},render:function(){return this.$el.html(ServiceDesk.Internal.CannedResponses.Templates.crToolbarMenuItem({dropdownId:this.dropdownId})),this}})},458:function(e,t,n){"use strict";var s=n(71),a=(n(87),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e});t.a=s.a.extend({className:"cannedresponses-warning-dialog aui-dialog2 aui-dialog2-small",id:"crWarningDialog",events:function(){return a(s.a.prototype.events,{"click .dialog-submit-button":"_submit"})},initialize:function(e){var t=e.context,n=e.model;this.context=t,this.model=n},_submit:function(e){e.preventDefault(),this._closeDialog()},render:function(){return this.$el.html(ServiceDesk.Internal.CannedResponses.Templates.warningDialog({cannedResponse:this.model})),this}})},459:function(e,t,n){"use strict";var s=n(3),a=n(47),o=n.n(a),r=n(71),i=(n(87),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e});t.a=r.a.extend({className:"cannedresponses-delete-dialog aui-dialog2 aui-dialog2-small",id:"crDeleteDialog",events:function(){return i(r.a.prototype.events,{"click .dialog-submit-button":"_submit"})},initialize:function(e){var t=e.context,n=e.model;this.context=t,this.model=n},_submit:function(e){var t=this;e.preventDefault(),this.$("#cr-global-error").hide(),this.model.destroy().then(function(){t._successfulDelete()}).fail(function(){t._renderGlobalError()})},_renderGlobalError:function(){this.$("#cr-global-error").show()},_successfulDelete:function(){this._createSuccessFlag(),this._closeDialog(),this.context.delete()},_createSuccessFlag:function(){return o()({type:"success",close:"auto",body:s.format("{0} has been deleted","<b>"+this.model.escape("title")+"</b>")})},render:function(){return this.$el.html(ServiceDesk.Internal.CannedResponses.Templates.deleteDialog({cannedResponse:this.model.toJSON()})),this}})},460:function(e,t,n){"use strict";var s=n(0),a=n(2),o=n(29),r=n(71),i=n(129),c=n(459),l=n(105),d=n(242),u=n(159),p=n(264),h=n(63),g=n(224),f=n.n(g),m=n(3),v=(n(87),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}),y=a.a.View.extend({template:ServiceDesk.Internal.CannedResponses.Templates.cannedResponsesList,id:"canned-responses-list",render:function(e){var t=e.collection.map(function(e){return e.setLastUpdatedDateFormatted(f.a.formatDateWithRelativeAge(Object(h.a)(e.getLastUpdatedDate()),f.a.FormatType.types.shortAge)).toJSON()});return this.$el.html(this.template({responsesList:t})),this}}),A=a.a.View.extend({template:ServiceDesk.Internal.CannedResponses.Templates.paginator,id:"paginator",initialize:function(){d.a.install()},render:function(e){var t=e.pages,n=e.currentPage;return this.$el.html(this.template({pages:t,currentPage:n})),this}}),b=a.a.View.extend({template:ServiceDesk.Internal.CannedResponses.Templates.emptyCannedResponsesList,id:"empty-list-message",render:function(e){var t=e.isEmptyProject;return this.$el.html(this.template({isEmptyProject:t})),this}}),w=a.a.View.extend({pageSize:o.a.MAX_RESULTS_MANAGEMENT,initialize:function(){this.cannedResponsesList=new y,this.paginator=new A,this.emptyListMessage=new b},render:function(e){var t=e.collection,n=e.totalCount,s=e.currentPage,a=e.isQueryEmpty,o=Math.ceil(n/this.pageSize),r=!n,i=r&&a;return r?this.$el.html(this.emptyListMessage.render({isEmptyProject:i}).el):this.$el.html(this.cannedResponsesList.render({collection:t}).el).append(this.paginator.render({pages:o,currentPage:s}).el),this}});t.a=r.a.extend({template:ServiceDesk.Internal.CannedResponses.Templates.manageDialog,pageSize:o.a.MAX_RESULTS_MANAGEMENT,className:"cannedresponses-manage-dialog aui-dialog2 aui-dialog2-xlarge",id:"crManageDialog",events:v(r.a.prototype.events,{"click .cr-add-response-button,.cr-add-response-link":"_openAddDialog","input .js-search-field":"_handleSearchInput","page-change":"_onPageChange","click .delete-response":"_openDeleteDialog","click .update-response":"_openUpdateDialog"}),initialize:function(e){var t=this,n=e.model,s=e.context;this.model=n,this.context=s,this.page=1,this.listContainer=new w;var a=Object(u.a)({searchAttributes:function(e){return{query:e,limit:t.pageSize,offset:(t.page-1)*t.pageSize,withRender:!1}},url:this.model.url(),parseFunction:this.model.parse});this.searchInputView=new p.a({descriptorFetcher:a,searchPlaceholder:"Search canned responses",searchIntro:"Search canned responses"}),this.listenTo(s.eventBus,"cannedresponses:delete",this._refreshSearch),this.listenTo(s.eventBus,"cannedresponses:update",this._refreshSearch),this.listenTo(s.eventBus,"cannedresponses:add",this._refreshSearch),this.listenTo(this.searchInputView,"dataReceived",function(e){var n=e.cannedResponses,s=e.totalCount;t.model.reset(n),t.$("#list-container").html(t.listContainer.render({collection:t.model,totalCount:s,currentPage:t.page,isQueryEmpty:t.searchInputView.isQueryEmpty()}).el)}),this.on("showDialog",this._onShow)},_getResponseForRow:function(e){var t=Object(s.default)(e.target).parents("*[data-response-id]").attr("data-response-id");return this.model.get(t)},_openAddDialog:function(e){e.preventDefault(),new i.a({context:this.context,model:new l.a({},{projectKey:this.context.getProjectKey()})}).show(),this.context.openAddDialog({source:o.a.CR_ADD_SOURCES.MANAGEMENT})},_openUpdateDialog:function(e){e.preventDefault(),new i.a({context:this.context,model:this._getResponseForRow(e)}).show(),this.context.openUpdateDialog({source:o.a.CR_UPDATE_SOURCES.MANAGEMENT})},_openDeleteDialog:function(e){e.preventDefault(),new c.a({context:this.context,model:this._getResponseForRow(e)}).show(),this.context.openDeleteDialog({source:o.a.CR_DELETE_SOURCES.MANAGEMENT})},_handleSearchInput:function(){this.page=1},_search:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).paginating,t=void 0!==e&&e;this.searchInputView.handleSearch({pageNumber:t?this.page:null}),this.context.search({source:o.a.CR_SEARCH_SOURCES.MANAGEMENT})},_refreshSearch:function(){0===this.model.length&&this.page>1&&(this.page=this.page-1),this._search()},_onPageChange:function(e,t){this.page=t,this._search({paginating:!0})},_onShow:function(){this._search({query:""})},render:function(){return this.$el.html(this.template()),this.searchInputView.setElement(this.$(".js-canned-responses-search")).render(),this}})},461:function(e,t,n){"use strict";var s=n(160),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),a(t,[{key:"insertText",value:function(e){this.editor.undoRedoEl.recordHistoryItem(),this.editor.manipulationEngine.replaceSelectionWith(e),this.editor.$el.focus(),this.editor.undoRedoEl.recordHistoryItem()}}]),t}();t.a=o},462:function(e,t,n){"use strict";var s=n(160),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["a"]),a(t,[{key:"insertText",value:function(e){this.editor.rteInstance.then(function(t){t.focus(),t.editor.selection.setContent(e),t.editor.undoManager.add()})}}]),t}();t.a=o},463:function(e,t,n){"use strict";var s=n(81),a=n(130),o=n.n(a),r=n(462),i=n(461);t.a={getInsertTextEditorExtension:function(e){var t=e.attr("data-editor-id"),n=o.a.getEntry(t),a=n.currentMode;if(a===s.a.Modes.VISUAL)return new r.a(n);if(a===s.a.Modes.TEXT){var c=e.data("wikiEditor");return new i.a(c)}throw new Error("Editor mode "+a+" is not supported")}}},464:function(e,t,n){"use strict";var s=n(1),a=n(0),o=n(2),r=n(29),i=n(129),c=n(460),l=n(105),d=n(114),u=n(159),p=n(19),h=n.n(p),g=n(24),f=n.n(g),m=(n(87),n(458)),v={13:"ENTER",38:"UP",40:"DOWN"},y=o.a.View.extend({events:{"mouseenter .cr-response-item":"_onCRItemMouseEnter","mouseenter .cr-menu-item":"_onMenuItemMouseEnter","click .cr-response-item":"_onCRItemClick","click #cr-open-add-dialog":"_openAddDialog","click #cr-open-manage-dialog":"_openManageDialog"},initialize:function(e){var t=e.context;this.context=t,this.model.crCollectionFrequent.on("sync",this.render,this),this.model.crCollectionPopular.on("sync",this.render,this),this.model.crCollectionSearch.on("reset",this.render,this),this.state={isSearching:!1}},handleNavigation:function(e){var t=this.$(".cr-menu-item"),n=t.filter(".active");if("ENTER"!==e){var s=t.length,a=t.index(n);"DOWN"===e?a=a>=s-1?0:++a:"UP"===e&&(a=a<=0?s-1:--a),t.mouseleave(),t.eq(a).mouseover()}else n.click()},_getCannedResponseModel:function(e){var t=e.attr("data-cannedresponse-id");return(this.model.crCollectionFrequent.get(t)||this.model.crCollectionPopular.get(t)||this.model.crCollectionSearch.get(t)).toJSON()},_getSelectionGroup:function(e){return e.parents("div[data-cannedresponse-group]").attr("data-cannedresponse-group")},_onCRItemMouseEnter:function(e){this.context.preview(this._getCannedResponseModel(Object(a.default)(e.target)))},_onMenuItemMouseEnter:function(e){this.$(".cr-menu-item").removeClass("active"),Object(a.default)(e.target).closest(".cr-menu-item").addClass("active")},_onCRItemClick:function(e){e.preventDefault();var t=Object(a.default)(e.target),n=this._getCannedResponseModel(t);this.context.select({cannedResponse:n,source:r.a.CR_SELECT_SOURCES.DROPDOWN,group:this._getSelectionGroup(t)}),n&&Array.isArray(n.unresolvedVariables)&&n.unresolvedVariables.length>0&&new m.a({context:this.context,model:n}).show()},_openAddDialog:function(e){var t=this;e.preventDefault();var n=new i.a({context:this.context,model:new l.a({},{projectKey:this.context.getProjectKey()})});n.on("showDialog",function(){Object(a.default)("#crEditDialog").find("textarea").val(t.context.getCommentMarkupVal())}),n.show(),this.context.openAddDialog({source:r.a.CR_ADD_SOURCES.DROPDOWN})},_openManageDialog:function(e){e.preventDefault(),new c.a({context:this.context,model:new d.a([],{projectKey:this.context.getProjectKey()})}).show(),this.context.openManageDialog({source:r.a.CR_ADD_SOURCES.DROPDOWN})},render:function(){var e=ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuList({crCollectionFrequent:this.model.crCollectionFrequent.toJSON(),crCollectionPopular:this.model.crCollectionPopular.toJSON(),crCollectionSearch:this.model.crCollectionSearch.toJSON(),isSearching:this.state.isSearching});return this.$el.html(e),this.context.adjustHeight({dropdownHeight:this.$el.height()}),this}});t.a=o.a.View.extend({className:"cannedresponses-menu-dropdown aui-dropdown2 aui-style-default aui-layer",events:{"mouseleave .cr-list":"_onCRMenuDropdownLeave","aui-dropdown2-hide":"_onCRMenuDropdownLeave","keydown input.text":"_onSearchKeydown","input input.text":"_onSearchInput"},attributes:function(){this.id=this.options.dropdownId},initialize:function(e){var t=this,n=e.context;this.context=n,this.dropdownListView=new y({model:this.model,context:n}),this.listenTo(n.eventBus,"cannedresponses:showMenuDropdown",this._onShowMenuDropdown),this.listenTo(n.globalEvents,"cannedresponses:add",this._refreshFrequentAndPopular),this.listenTo(n.globalEvents,"cannedresponses:update",this._refreshFrequentAndPopular),this.listenTo(n.globalEvents,"cannedresponses:delete",this._refreshFrequentAndPopular),this._debouncedRefresh=s.default.debounce(this._refreshFrequentAndPopular.bind(this),500),h.a.bind(f.a.INLINE_EDIT_SAVE_COMPLETE,this._debouncedRefresh),h.a.bind(f.a.ISSUE_REFRESHED,this._debouncedRefresh),this._onSearchInput=s.default.debounce(this._onSearchInput,500),this.descriptorFetcher=Object(u.a)({searchAttributes:function(e){return{query:e,limit:r.a.MAX_RESULTS_SEARCH,offset:0,substitute:!0,issueKey:t.context.getIssueKey()}},url:this.model.crCollectionSearch.url(),parseFunction:this.model.crCollectionSearch.parse}),this._refreshFrequentAndPopular()},_onCRMenuDropdownLeave:function(){this.context.unhover()},_onSearchKeydown:function(e){Object.keys(v).indexOf(e.which.toString())>-1&&(e.preventDefault(),this.dropdownListView.handleNavigation(v[e.which]))},_onSearchInput:function(e){var t=this,n=e.target.value;this.dropdownListView.state.isSearching=!!n,this.descriptorFetcher.execute(n).done(function(e){t.model.crCollectionSearch.reset(e.cannedResponses)}),this.context.search({source:r.a.CR_SEARCH_SOURCES.DROPDOWN})},_refreshFrequentAndPopular:function(){var e=r.a.MAX_RESULTS_TOP_LISTS,t=this.context.getIssueKey();this.model.crCollectionFrequent.fetchFrequentlyUsed({limit:e,issueKey:t}),this.model.crCollectionPopular.fetchPopular({limit:e,issueKey:t})},_onShowMenuDropdown:function(){var e=this;this.context.adjustHeight({dropdownHeight:this.dropdownListView.$el.height()}),setTimeout(function(){return e.$("input").focus()},0)},unbindJiraEvents:function(){h.a.unbind(f.a.INLINE_EDIT_SAVE_COMPLETE,this._debouncedRefresh),h.a.unbind(f.a.ISSUE_REFRESHED,this._debouncedRefresh)},render:function(){return this.$el.html(ServiceDesk.Internal.CannedResponses.Templates.dropdownMenu()),this.dropdownListView.$el=this.$("#crDropdownMenuList"),this.dropdownListView.render(),this.dropdownListView.delegateEvents(),this}})},465:function(e,t){e.exports=require("jira/util/navigator")},466:function(e,t){e.exports=require("jira/editor/customizer")},467:function(e,t,n){"use strict";n.d(t,"a",function(){return A});var s=n(0),a=n(1),o=n(466),r=n.n(o),i=n(130),c=n.n(i),l=n(465),d=n.n(l),u=n(117),p=n(114),h=n(464),g=n(457),f=n(456),m=n(455),v=n(454),y=n(453),A=(n(762),a.default.once(function(){r.a.customizeSettings(function(e,t){t.PluginManager.add("cannedResponses",function(e){var t=Object(s.default)(e.getElement());if(Object(u.b)({rteElement:t})){var n=u.a.getOrCreateContext(t),a=new m.a({context:n,editor:e});a.setElement(e.editorContainer),d.a.isIE()&&(e.off("focus").off("focusin"),e.on("click",function(){t.trigger("click").trigger("focusin")})),n.rteView=a}}),e.plugins=e.plugins||[],e.plugins.push("cannedResponses")}),c.a.on("unregister",function(e){Object(s.default)(e.toolbar).find("#crLink, .cannedresponses-menu-dropdown").remove(),u.a.destroy(e.id)}),c.a.on("register",function(e){var t=Object(s.default)(e.textArea),n=Object(s.default)(e.toolbar);if(Object(u.b)({rteElement:t})){var o=u.a.getOrCreateContext(t,e.id);o.entry=e;var r=o.getProjectKey(),i=new p.a([],{projectKey:r}),c=new p.a([],{projectKey:r}),l=new p.a([],{projectKey:r}),d=a.default.uniqueId("wiki-edit-dropdown2-cannnedresponses-wikiEdit");o.crDropdown=new h.a({model:{crCollectionFrequent:i,crCollectionPopular:c,crCollectionSearch:l},context:o,dropdownId:d}),o.crDropdown.render().$el.insertBefore(n);var m=n.find(".wiki-edit-other-picker-trigger").parent();new g.a({context:o,$textArea:t,dropdownId:d}).render().$el.insertAfter(m),Object(s.default)("#crLink").tooltip(),new f.a({context:o}).setElement(e.textArea),Object(v.a)({context:o}),Object(y.a)({context:o})}})}))},573:function(e,t,n){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.Components&&(ServiceDesk.Templates.Components={}),ServiceDesk.Templates.Components.paginator=function(e,t){var n="";if(e.endPage>1){n+='<ol class="aui-nav aui-nav-pagination"><li class="aui-nav-prev js-prev-page"><a'+(e.startPage==e.currentPage?' aria-disabled="true"':"")+">"+soy.$$escapeHtml("\u4e0a\u4e00\u9875")+"</a></li>";for(var s=e.startPage,a=e.endPage+1,o=s;o<a;o++)n+=o==e.currentPage?'<li class="aui-nav-selected">'+soy.$$escapeHtml(o)+"</li>":'<li class="js-page" page-index="'+soy.$$escapeHtml(o)+'"><a>'+soy.$$escapeHtml(o)+"</a></li>";n+='<li class="aui-nav-next js-next-page"><a'+(e.endPage==e.currentPage?' aria-disabled="true"':"")+">"+soy.$$escapeHtml("\u4e0b\u4e00\u4e2a")+"</a></li></ol>"}return n},goog.DEBUG&&(ServiceDesk.Templates.Components.paginator.soyTemplateName="ServiceDesk.Templates.Components.paginator"),void 0===(s=function(){return ServiceDesk.Templates.Components}.apply(t,[]))||(e.exports=s)},574:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,"/* stylelint-disable-next-line selector-type-no-unknown */\nsd-paginator li {\n  cursor: pointer;\n}\n",""])},575:function(e,t,n){var s=n(574);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(12)(s,a);s.locals&&(e.exports=s.locals)},587:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-search-input {\n  display: inline-block;\n  position: relative;\n}\n.sd-search-input-has-spin .sd-search-icon,\n.sd-search-input-has-query .sd-search-icon {\n  display: none;\n}\n.sd-search-input-has-spin .sd-clear-query {\n  display: none;\n}\n.sd-search-input.sd-search-input-has-query .sd-clear-query {\n  display: block;\n}\n.sd-search-input .sd-search-icon {\n  right: 10px;\n  position: absolute;\n  top: 13px;\n  color: #707070;\n}\n.sd-search-input .sd-search-field {\n  padding: 5px 30px 5px 10px;\n  width: 490px;\n  font-size: 14px;\n}\n.sd-activity.sd-search-input .sd-search-field {\n  background-image: url(data:image/gif;base64,R0lGODlhEAAQAPMPALu7u5mZmTMzM93d3REREQAAAHd3d1VVVWZmZqqqqoiIiO7u7kRERCIiIgARAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBwAPACwAAAAAEAAQAEAEcPDJtyg6dUrFetDTIopMoSyFcxxD1krD8AwCkASDIlPaUDQLR6G1Cy0SgqIkE1IQGMrFAKCcGWSBzwPAnAwarcKQ15MpTMJYd1ZyUDXSDGelBY0qIoBh/ZoYGgELCjoxCRRvIQcGD1kzgSAgAACQDxEAIfkEBQcADwAsAAAAAA8AEAAABF3wyfkMkotOJpscRKJJwtI4Q1MAoxQ0RFBw0xEvhGAVRZZJh4JgMAEQW7TWI4EwGFjKR+CAQECjn8DoN0kwDtvBT8FILAKJgfoo1iAGAPNVY9DGJXNMIHN/HJVqIxEAIfkEBQcADwAsAAAAABAADwAABFrwyfmColgiydpaQiY5x9Ith7hURdIl0wBIhpCAjKIIxaAUPQ0hFQsAC7MJALFSFi4SgC4wyHyuCYNWxH3AuhSEotkNGAALAPqqkigG8MWAjAnM4A8594vPUyIAIfkEBQcADwAsAAAAABAAEAAABF3wySkDvdKsddg+APYIWrcg2DIRQAcU6DJICjIsjBEETLEEBYLqYSDdJoCGiHgZwG4LQCCRECEIBAdoF5hdEIWwgBJqDs7DgcKyRHZl3uUwuhm2AbNNW+LV7yd+FxEAIfkEBQcACAAsAAAAABAADgAABEYQyYmMoVgeWQrP3NYhBCgZBdAFRUkdBIAUguVVo1ZsWFcEGB5GMBkEjiCBL2a5ZAi+m2SAURExwKqPiuCafBkvBSCcmiYRACH5BAUHAA4ALAAAAAAQABAAAARs0MnpAKDYrbSWMp0xZIvBKYrXjNmADOhAKBiQDF5gGcICNAyJTwFYTBaDQ0HAkgwSmAUj0OkMrkZM4HBgKK7YTKDRICAo2clAEIheKc9CISjEVTuEQrJASGcSBQcSUFEUDQUXJBgDBW0Zj34RACH5BAUHAA8ALAAAAAAQABAAAARf8Mn5xqBYgrVC4EEmBcOSfAEjSopJMglmcQlgBYjE5NJgZwjCAbO4YBAJjpIjSiAQh5ayyRAIDKvJIbnIagoFRFdkQDQKC0RBsCIUFAWsT7RwG410R8HiiK0WBwJjFBEAIfkEBQcADgAsAQABAA8ADwAABFrQybEWADXJLUHHAMJxIDAgnrOo2+AOibEMh1LN62gIxphzitRoCDAYNcNN6FBLShao4WzwHDQKvVGhoFAwGgtFgQHENhoB7nCwHRAIC0EyUcC8Zw1ha3NIRgAAIfkEBQcADwAsAAAAABAAEAAABGDwyfnWoljaNYYFV+Zx3hCEGEcuypBtMJBISpClAWLfWODymIFiCJwMDMiZBNAAYFqUAaNQ2E0YBIXGURAMCo1AAsFYBBoIScBJEwgSVcmP0li4FwcHz+FpCCQMPCFINxEAIfkEBQcADgAsAAABABAADwAABFzQyemWXYNqaSXY2vVtw3UNmROM4JQowKKlFOsgRI6ASQ8IhSADFAjAMIMAgSYJtByxyQIhcEoaBcSiwegpDgvAwSBJ0AIHBoCQqIAEi/TCIAABGhLG8MbcKBQgEQAh+QQFBwAPACwAAAEAEAAPAAAEXfDJSd+qeK5RB8fDRRWFspyotAAfQBbfNLCVUSSdKDV89gDAwcFBIBgywMRnkWBgcJUDKSZRIKAPQcGwYByAAYTEEJAAJIGbATEQ+B4ExmK9CDhBd8ThdHw/AmUYEQAh+QQFBwAPACwAAAEADwAPAAAEXvBJQIa8+ILSspdHkXxS9wxF4Q3L2aTBeC0sFjhAtuyLIjAMhYc2GBgaSKGuyNoBDp7czFAgeBIKwC6kWCAMxUSAFjtNCAAFGGF5tCQLAaJnWCTqHoREvQuQJAkyGBEAOw==);\n  background-repeat: no-repeat;\n  background-position: 555px center;\n}\n.sd-search-input .sd-search-field::-ms-clear {\n  display: none;\n}\n.sd-search-input .sd-clear-query {\n  position: absolute;\n  right: 10px;\n  top: 13px;\n  color: #707070;\n  cursor: pointer;\n  display: none;\n}\n.sd-search-input .sd-search-spin {\n  display: none;\n  position: absolute;\n  right: 18px;\n  top: 23px;\n  z-index: 1;\n}\n.sd-search-input .sd-search-query {\n  left: 10px;\n}\n.sd-search-input.sd-adgs-feature-flag-m1 .sd-search-field {\n  max-width: 550px;\n  width: 550px;\n}\n.sd-search-input.sd-adgs-feature-flag-m1 .sd-search-icon,\n.sd-search-input.sd-adgs-feature-flag-m1 .sd-clear-query {\n  top: 8px;\n}\n.sd-search-input.sd-adgs-feature-flag-m1 .sd-search-spin {\n  top: 5px;\n}\n",""])},588:function(e,t,n){var s=n(587);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(12)(s,a);s.locals&&(e.exports=s.locals)},589:function(e,t,n){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Templates&&(ServiceDesk.Templates={}),void 0===ServiceDesk.Templates.SearchInput&&(ServiceDesk.Templates.SearchInput={}),ServiceDesk.Templates.SearchInput.content=function(e,t){var s="",a=n(23).isFeatureEnabled("sd.adgs.m1")?"sd-adgs-feature-flag-m1":"",o="sd-search-input "+soy.$$escapeHtml(a);return s+='<div class="'+soy.$$escapeHtml(o)+'"><span class="aui-icon aui-icon-small aui-iconfont-search js-copy-clipboard sd-search-icon"></span><input type="text" class="js-search-field sd-search-field ajs-dirty-warning-exempt text" placeholder="'+soy.$$escapeHtml(e.searchPlaceholder)+'" data-intro="'+soy.$$escapeHtml(e.searchIntro)+'" data-position="bottom"><aui-spinner class="js-spinner sd-search-spin" size="small"></aui-spinner><span class="aui-icon aui-icon-small aui-iconfont-remove sd-clear-query js-clear-query">'+soy.$$escapeHtml("\u5220\u9664")+"</span></div>"},goog.DEBUG&&(ServiceDesk.Templates.SearchInput.content.soyTemplateName="ServiceDesk.Templates.SearchInput.content"),void 0===(s=function(){return ServiceDesk.Templates.SearchInput}.apply(t,[]))||(e.exports=s)},600:function(e,t,n){(e.exports=n(13)(!1)).push([e.i,"/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.sd-search-container {\n  text-align: center;\n  width: 550px;\n  margin: 20px 0 10px;\n}\n",""])},601:function(e,t,n){var s=n(600);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(12)(s,a);s.locals&&(e.exports=s.locals)},61:function(e,t,n){"use strict";var s=n(59);t.a=Object(s.a)("com.atlassian.servicedesk.servicedesk-canned-responses-plugin:canned-responses-data-provider.data")},71:function(e,t,n){"use strict";var s=n(0),a=n(2),o=n(41),r=n.n(o);t.a=a.a.View.extend({tagName:"section",attributes:{role:"dialog","data-aui-modal":"true"},events:{"click .dialog-close-button":"_closeDialog"},initialize:function(e){var t=e.context;this.context=t},_hasPreviousDialog:function(){return this.$previousDialog&&this.$previousDialog.length>0},_handleKeypress:function(e){e.stopPropagation(),27===e.keyCode&&this._closeDialog()},show:function(){this.$previousDialog=Object(s.default)(".jira-dialog:visible,.aui-dialog2:visible"),this._hasPreviousDialog()&&(this.$el.attr("data-aui-blanketed","false"),this.$previousDialog.hide()),this.render().$el.appendTo("body"),this.dialog=r()(this.$el),this.keypressHandlerFn=this._handleKeypress.bind(this),window.addEventListener("keydown",this.keypressHandlerFn,!0),this.dialog.show(),this.trigger("showDialog")},_closeDialog:function(){var e=this;window.removeEventListener("keydown",this.keypressHandlerFn,!0),this.dialog.on("hide",function(){e.remove()}),this.dialog.hide(),this._hasPreviousDialog()&&this.$previousDialog.show()}})},760:function(e,t,n){e.exports=n.p+"444b37464ce760fe46f7fea2439e9ace.svg"},761:function(e,t,n){var s=n(121);(e.exports=n(13)(!1)).push([e.i,'/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Primary Colors */\n/* Secondary Colors */\n/* Derivative Colors */\n/* Service Desk Variables */\n.cr-menu-text {\n  color: #707070;\n  text-transform: uppercase;\n}\n.cannedresponses-icon::before {\n  content: url("data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3Eicon%2Fcanned-responses%3C%2Ftitle%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M3%2012.016c-.01.542.18%201.011.571%201.406.39.396.857.594%201.398.594h2.047l3%203.984%203-3.984h2c.552%200%201.023-.198%201.414-.594.391-.395.586-.869.586-1.422V4.016c0-.562-.195-1.039-.586-1.43A1.912%201.912%200%200%200%2015.032%202H5.094a1.93%201.93%200%200%200-1.414.586c-.39.391-.59.862-.6%201.414L3%2012.016zm12.727-8.719a.992.992%200%200%201%20.29.719V12a.992.992%200%200%201-.29.719.954.954%200%200%201-.71.297h-2.5l-2.5%203.484-2.5-3.484H4.968a.909.909%200%200%201-.687-.297.986.986%200%200%201-.282-.703L4.078%204c0-.27.1-.505.297-.703A.98.98%200%200%201%205.095%203h9.937c.27%200%20.502.099.695.297z%22%20fill%3D%22%23707070%22%2F%3E%3Cpath%20stroke%3D%22%236F6F6F%22%20stroke-width%3D%22.5%22%20fill%3D%22%236F6F6F%22%20stroke-linejoin%3D%22round%22%20d%3D%22M9.99%209.457l-1.545.812.295-1.72L7.49%207.33l1.728-.25.772-1.566.773%201.565%201.727.251-1.25%201.219.295%201.72z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");\n  z-index: 100;\n  max-width: 20px;\n  max-height: 20px;\n  min-width: 20px;\n  min-height: 20px;\n  width: 20px;\n  height: 20px;\n}\n.sd-adgs-feature-flag-m1 .cannedresponses-icon::before {\n  content: url("data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3Ecanned_dark%3C%2Ftitle%3E%3Cg%20fill%3D%22%2342526E%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M10.882%2012.558a.875.875%200%200%200-.875-.877H5.632a.881.881%200%200%201-.882-.882V5.632a.88.88%200%200%201%20.88-.882h8.74a.88.88%200%200%201%20.88.882v5.167c0%20.659-.513%201.553-1.08%201.883l-3.292%201.919.004-2.043zm-1.757%203.565a.875.875%200%200%200%201.316.758l4.61-2.687C16.156%2013.551%2017%2012.08%2017%2010.8V5.632A2.63%202.63%200%200%200%2014.37%203H5.63A2.63%202.63%200%200%200%203%205.632v5.167a2.631%202.631%200%200%200%202.632%202.632H9.13l-.005%202.692z%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20stroke%3D%22%2342526E%22%20stroke-width%3D%22.5%22%20stroke-linejoin%3D%22round%22%20d%3D%22M10%209.154l-1.236.65L9%208.428l-1-.975%201.382-.2L10%206l.618%201.252L12%207.453l-1%20.975.236%201.376z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");\n}\n.sd-adgs-feature-flag-m1.active .cannedresponses-icon::before {\n  content: url("data:image/svg+xml,%3Csvg%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Ctitle%3Ecanned_white%3C%2Ftitle%3E%3Cg%20fill%3D%22%23FFF%22%20fill-rule%3D%22evenodd%22%3E%3Cpath%20d%3D%22M10.882%2012.558a.875.875%200%200%200-.875-.877H5.632a.881.881%200%200%201-.882-.882V5.632a.88.88%200%200%201%20.88-.882h8.74a.88.88%200%200%201%20.88.882v5.167c0%20.659-.513%201.553-1.08%201.883l-3.292%201.919.004-2.043zm-1.757%203.565a.875.875%200%200%200%201.316.758l4.61-2.687C16.156%2013.551%2017%2012.08%2017%2010.8V5.632A2.63%202.63%200%200%200%2014.37%203H5.63A2.63%202.63%200%200%200%203%205.632v5.167a2.631%202.631%200%200%200%202.632%202.632H9.13l-.005%202.692z%22%20fill-rule%3D%22nonzero%22%2F%3E%3Cpath%20stroke%3D%22%23FFF%22%20stroke-width%3D%22.5%22%20stroke-linejoin%3D%22round%22%20d%3D%22M10%209.154l-1.236.65L9%208.428l-1-.975%201.382-.2L10%206l.618%201.252L12%207.453l-1%20.975.236%201.376z%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E");\n}\n.aui-button[aria-disabled=\'true\'] .cannedresponses-icon,\n.aui-button[disabled] .cannedresponses-icon {\n  opacity: 0.6;\n  filter: alpha(opacity=60);\n}\n.cannedresponses-menu-dropdown {\n  min-width: 250px;\n}\n.cannedresponses-menu-dropdown.aui-dropdown2.aui-style-default:hover a,\n.cannedresponses-menu-dropdown.aui-dropdown2.aui-style-default:hover a:not(.aui-dropdown2-disabled):hover {\n  background-color: #fff;\n  color: #333;\n}\n.cannedresponses-menu-dropdown.aui-dropdown2.aui-style-default:hover a.active,\n.cannedresponses-menu-dropdown.aui-dropdown2.aui-style-default:hover a:not(.aui-dropdown2-disabled):hover.active {\n  background-color: #3572b0;\n  color: #fff;\n}\n.cannedresponses-menu-dropdown form.aui .field-group {\n  padding: 0;\n}\n.cannedresponses-menu-dropdown .aui-dropdown2-section {\n  padding: 6px 0;\n}\n.cannedresponses-menu-dropdown li > *,\n.cannedresponses-menu-dropdown li .cr-response-item {\n  padding: 3px 12px;\n}\n.cannedresponses-menu-dropdown li .aui-icon {\n  margin-right: 6px;\n}\n.cannedresponses-menu-dropdown li.cr-menu-no-match {\n  font-weight: bold;\n  font-style: italic;\n  margin-top: 10px;\n  margin-bottom: 6px;\n}\n#crManageDialog {\n  width: 80%;\n}\n#crManageDialog .aui-dialog2-content {\n  min-height: 515px;\n  position: relative;\n}\n#crManageDialog .aui-dialog2-content #action-header {\n  display: -webkit-box;\n  display: flex;\n  height: 50px;\n}\n#crManageDialog .aui-dialog2-content #action-header .sd-search-container {\n  margin: inherit;\n}\n#crManageDialog .aui-dialog2-content #action-header .cr-add-response-button {\n  margin-left: auto;\n}\n#crManageDialog .aui-dialog2-content #paginator {\n  position: absolute;\n  bottom: 20px;\n  right: 25px;\n}\n#crManageDialog .aui-dialog2-content .cr-no-responses-result {\n  display: -webkit-box;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n          flex-direction: column;\n  -webkit-box-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n          justify-content: center;\n  height: 350px;\n}\n#crManageDialog .aui-dialog2-content .cr-no-responses-result .cr-no-responses-result__image {\n  width: 380px;\n  background: url('+s(n(760))+") no-repeat center;\n  background-size: contain;\n  -webkit-box-flex: 1;\n          flex-grow: 1;\n}\n#crManageDialog .aui-dialog2-content .cr-no-responses-result .cr-no-responses-result__title {\n  margin: 0;\n}\n#crManageDialog .aui-dialog2-content .cr-no-responses-result .cr-no-responses-result__text {\n  width: 500px;\n  text-align: center;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list table {\n  table-layout: fixed;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-title {\n  width: 20%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-content {\n  width: 39%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-usage {\n  width: 5%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-last-edited {\n  width: 10%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-last-edited-by {\n  width: 15%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list th#cr-actions {\n  width: 11%;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list tbody tr .menu {\n  display: none;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list tbody tr:hover {\n  background-color: #f5f5f5;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list tbody tr:hover .menu {\n  display: block;\n}\n#crManageDialog .aui-dialog2-content #canned-responses-list tbody tr td {\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n#crDeleteDialog #cr-content {\n  max-height: 100px;\n  overflow-y: auto;\n}\n#crEditDialog .cr-editor-toolbar .column {\n  display: inline-block;\n  width: 50%;\n}\n#crEditDialog .cr-editor-toolbar .column.left {\n  text-align: left;\n}\n#crEditDialog .cr-editor-toolbar .column.right {\n  text-align: right;\n}\n#crEditDialog .cr-editor-toolbar .column .aui-button {\n  margin-bottom: 7px;\n}\n#insert-variable form.aui.top-label {\n  margin: 0 7px;\n}\n",""])},762:function(e,t,n){var s=n(761);"string"==typeof s&&(s=[[e.i,s,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(12)(s,a);s.locals&&(e.exports=s.locals)},763:function(e,t,n){"use strict";n.r(t);n(52),n(51),n(58),n(57),n(50),n(36),n(56),n(55),n(43);var s=n(467),a=n(23);n.n(a).a.isFeatureEnabled("sd.canned.responses")&&Object(s.a)(),function(e){function t(e){return"innerText"in document.body?e.innerText:([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.querySelectorAll("br"))).forEach(function(e){var t=document.createTextNode("\n");e.parentNode.replaceChild(t,e)}),e.textContent)}"Internal.VariableSubstitution.Feature.WikiRenderer.SdInlineNoFormat".split(".").forEach(function(t){e[t]=e[t]||{},e=e[t]}),e.convert=function(e){return"{sd-inline-noformat}"+t(e.node).replace(/[\\${]/g,"\\$&")+"{sd-inline-noformat}"}}(ServiceDesk)},81:function(e,t,n){"use strict";t.a={Modes:{TEXT:"source",VISUAL:"wysiwyg"}}},87:function(e,t,n){var s;"undefined"==typeof ServiceDesk&&(window.ServiceDesk={}),void 0===ServiceDesk.Internal&&(ServiceDesk.Internal={}),void 0===ServiceDesk.Internal.CannedResponses&&(ServiceDesk.Internal.CannedResponses={}),void 0===ServiceDesk.Internal.CannedResponses.Templates&&(ServiceDesk.Internal.CannedResponses.Templates={}),ServiceDesk.Internal.CannedResponses.Templates.crToolbarMenuItem=function(e,t){var s="",a=n(23).isFeatureEnabled("sd.adgs.m1")?"aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-other-picker-trigger wiki-edit-tooltip sd-adgs-feature-flag-m1":"aui-button aui-button-subtle aui-dropdown2-trigger wiki-edit-operation-dropdown wiki-edit-other-picker-trigger wiki-edit-tooltip";return s+='<a id="crLink" aria-owns="'+soy.$$escapeHtml(e.dropdownId)+'" aria-haspopup="true" title="'+soy.$$escapeHtml("Canned responses")+'" href="#wiki-edit-dropdown2-cannnedresponses-wikiEdit0" class="'+soy.$$escapeHtml(a)+'">'+aui.icons.icon({icon:"cannedresponses",useIconFont:!0,size:"small",extraClasses:"cannedresponses-icon"})+"</a>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.crToolbarMenuItem.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.crToolbarMenuItem"),ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem=function(e,t){return'<li><a class="cr-response-item cr-menu-item" data-cannedresponse-id="'+soy.$$escapeHtml(e.cr.id)+'" href="#">'+soy.$$escapeHtml(e.cr.title)+"</a></li>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem"),ServiceDesk.Internal.CannedResponses.Templates.dropdownMenu=function(e,t){return'<ul class="aui-list-truncate"><li><form class="aui"><div class="field-group"><input type="text" class="text" maxlength="255" /></div></form></li><div id="crDropdownMenuList" /></ul>'},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.dropdownMenu.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.dropdownMenu"),ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuList=function(e,t){var n="";if(e.isSearching){n+='<div class="cr-list cr-list-search-results" data-cannedresponse-group="search">';var s=e.crCollectionSearch,a=s.length;if(a>0)for(var o=0;o<a;o++){var r=s[o];n+=ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem({cr:r})}else n+='<li class="cr-menu-no-match"><span>'+soy.$$escapeHtml("No matching responses")+"</span></li>";n+="</div>"}else{if(e.crCollectionFrequent&&e.crCollectionFrequent.length>0){n+='<div class="aui-dropdown2-section cr-list cr-list-frequently-used" data-cannedresponse-group="frequent"><li><span class="cr-menu-text">'+soy.$$escapeHtml("Frequently used")+"</span></li>";for(var i=e.crCollectionFrequent,c=i.length,l=0;l<c;l++){var d=i[l];n+=ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem({cr:d})}n+="</div>"}if(e.crCollectionPopular&&e.crCollectionPopular.length>0){n+='<div class="aui-dropdown2-section cr-list cr-list-popular" data-cannedresponse-group="popular"><li><span class="cr-menu-text">'+soy.$$escapeHtml("Popular")+"</span></li>";for(var u=e.crCollectionPopular,p=u.length,h=0;h<p;h++){var g=u[h];n+=ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuCRItem({cr:g})}n+="</div>"}n+='<div class="aui-dropdown2-section cr-actions"><li><a href="#" id="cr-open-add-dialog" class="cr-menu-item"><span class="aui-icon aui-icon-small aui-iconfont-add" />'+soy.$$escapeHtml("Save as a response")+'</a></li><li><a href="#" id="cr-open-manage-dialog" class="cr-menu-item"><span class="aui-icon aui-icon-small aui-iconfont-edit" />'+soy.$$escapeHtml("Edit responses")+"</a></li></div>"}return n},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuList.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.dropdownMenuList"),ServiceDesk.Internal.CannedResponses.Templates.crAutocomplete=function(e,t){return'<span class="cr-autocomplete" style="background-color: #eee; border: solid 1px #ddd; color: #1e90ff"><span class="cr-autocomplete-trigger" style="background-color: #ddd; padding: 0 2px">'+soy.$$escapeHtml(e.autocompleteTrigger)+'</span><span class="cr-autocomplete-search-text" style="padding: 0 4px 0 2px;"><span>&#65279;'+soy.$$escapeHtml(null==e.searchText?" ":e.searchText)+"</span></span></span>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.crAutocomplete.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.crAutocomplete"),ServiceDesk.Internal.CannedResponses.Templates.crAutocompleteDropdown=function(e,t){for(var n='<a href="#" id="crAutocompleteDropdownTrigger" aria-owns="crAutocompleteDropdown" aria-haspopup="true" class="aui-button aui-style-default aui-dropdown2-trigger" style="position: absolute; top: '+soy.$$escapeHtml(e.top)+"px; left: "+soy.$$escapeHtml(e.left)+'px; height: 1px; width: 1px; z-index:-1000" /><div id="crAutocompleteDropdown" class="aui-style-default aui-dropdown2"><ul class="aui-list-truncate"><li class="cr-menu-text">'+soy.$$escapeHtml("Frequently used")+"</li>",s=e.crItems,a=s.length,o=0;o<a;o++){var r=s[o];n+='<li><a class="cr-response-item" data-cannedresponse-id="'+soy.$$escapeHtml(r.id)+'" href="#">'+soy.$$escapeHtml(r.title)+"</a></li>"}return n+="</ul></div>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.crAutocompleteDropdown.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.crAutocompleteDropdown"),ServiceDesk.Internal.CannedResponses.Templates.manageDialog=function(e,t){return""+aui.dialog.dialog2Content({titleText:"Manage canned responses",content:'<div id="action-header"><div class="sd-search-container js-canned-responses-search" /><button class="cr-add-response-button aui-button">'+soy.$$escapeHtml("Add a response")+'</button></div><div id="list-container"></div>',footerActionContent:'<button class="dialog-close-button aui-button aui-button-link">'+soy.$$escapeHtml("Close")+"</button>"})},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.manageDialog.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.manageDialog"),ServiceDesk.Internal.CannedResponses.Templates.paginator=function(e,t){return"<sd-paginator num-pages="+soy.$$escapeHtml(e.pages)+" current-page="+soy.$$escapeHtml(e.currentPage)+"></sd-paginator>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.paginator.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.paginator"),ServiceDesk.Internal.CannedResponses.Templates.cannedResponsesList=function(e,t){for(var n='<table class="aui"><thead><tr><th id="cr-title">'+soy.$$escapeHtml("Name")+'</th><th id="cr-content">'+soy.$$escapeHtml("Response")+'</th><th id="cr-usage">'+soy.$$escapeHtml("Usage")+'</th><th id="cr-last-edited">'+soy.$$escapeHtml("Last edited")+'</th><th id="cr-last-edited-by">'+soy.$$escapeHtml("Edited by")+'</th><th id="cr-actions"></th></tr></thead><tbody>',s=e.responsesList,a=s.length,o=0;o<a;o++){var r=s[o];n+=ServiceDesk.Internal.CannedResponses.Templates.cannedResponseRow({cannedResponse:r})}return n+="</tbody><table>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.cannedResponsesList.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.cannedResponsesList"),ServiceDesk.Internal.CannedResponses.Templates.cannedResponseRow=function(e,t){return"<tr data-response-id="+soy.$$escapeHtml(e.cannedResponse.id)+'><td headers="cr-title">'+soy.$$escapeHtml(e.cannedResponse.title)+'</td><td headers="cr-content">'+soy.$$escapeHtml(e.cannedResponse.text)+'</td><td headers="cr-usage">'+soy.$$escapeHtml(e.cannedResponse.totalUsageCount)+'</td><td headers="cr-last-edited">'+soy.$$escapeHtml(e.cannedResponse.lastUpdatedDateFormatted)+'</td><td headers="cr-last-edited-by">'+soy.$$escapeHtml(e.cannedResponse.lastUpdatedUser)+'</td><td headers="cr-actions"><ul class="menu"><li><a class="update-response" href="#">'+soy.$$escapeHtml("Edit")+'</a></li><li><a class="delete-response" href="#">'+soy.$$escapeHtml("Delete")+"</a></li></ul></td></tr>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.cannedResponseRow.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.cannedResponseRow"),ServiceDesk.Internal.CannedResponses.Templates.emptyCannedResponsesList=function(e,t){return'<div class="cr-no-responses-result">'+(e.isEmptyProject?'<div class="cr-no-responses-result__image"></div><h2 class="cr-no-responses-result__title">'+soy.$$escapeHtml("Create, edit and manage responses")+'</h2><p class="cr-no-responses-result__text">'+soy.$$filterNoAutoescape(AJS.format("You don\'\'t have any canned responses in this project. {0}Add a response{1} to use it at any time from the view issue screen.",'<a href="#" class="cr-add-response-link">',"</a>"))+"</p>":'<h2 class="cr-no-responses-result__title">'+soy.$$escapeHtml("No canned responses match your criteria")+"</h2>")+"</div>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.emptyCannedResponsesList.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.emptyCannedResponsesList"),ServiceDesk.Internal.CannedResponses.Templates.cannedResponseInfo=function(e,t){return'<div class="field-group"><label for="cr-created-by">'+soy.$$escapeHtml("Creator")+'</label><span id="cr-created-by" class="field-value">'+soy.$$escapeHtml(e.cannedResponse.createdUser)+'</span></div><div class="field-group"><label for="cr-usage">'+soy.$$escapeHtml("Usage")+'</label><span id="cr-usage" class="field-value">'+soy.$$escapeHtml(e.cannedResponse.totalUsageCount)+'</span></div><div class="field-group"><label for="cr-edited">'+soy.$$escapeHtml("Last edited")+'</label><span id="cr-edited" class="field-value">'+soy.$$escapeHtml(e.cannedResponse.lastUpdatedDateFormatted)+'</span></div><div class="field-group"><label for="cr-edited-by">'+soy.$$escapeHtml("Edited by")+'</label><span id="cr-edited-by" class="field-value">'+soy.$$escapeHtml(e.cannedResponse.lastUpdatedUser)+"</span></div>"},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.cannedResponseInfo.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.cannedResponseInfo"),ServiceDesk.Internal.CannedResponses.Templates.deleteDialog=function(e,t){return""+aui.dialog.dialog2Content({titleText:"Delete response",content:'<form class="aui ajs-dirty-warning-exempt"><p>'+soy.$$escapeHtml("Are you sure you want to delete:")+"</p><p><b>"+soy.$$escapeHtml(e.cannedResponse.title)+'</b></p></form><div id="cr-global-error" class="aui-message aui-message-error" style="display: none"><p class="title"><strong>'+soy.$$escapeHtml("We weren\'t able to delete your canned response")+"</strong></p><p>"+soy.$$escapeHtml("This could be for a number of reasons, try deleting your response again.")+"</p></div>",footerActionContent:'<button class="aui-button aui-button-primary dialog-submit-button">'+soy.$$escapeHtml("Delete")+'</button><button class="aui-button aui-button-link dialog-close-button">'+soy.$$escapeHtml("Cancel")+"</button>"})},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.deleteDialog.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.deleteDialog"),ServiceDesk.Internal.CannedResponses.Templates.warningDialog=function(e,t){for(var n="<div><p>"+soy.$$escapeHtml("These variables were not replaced in your canned response:")+"</p><ul>",s=e.cannedResponse.unresolvedVariables,a=s.length,o=0;o<a;o++){var r=s[o];n+="<li>"+soy.$$escapeHtml(r)+"</li>"}return n+="</ul><p>"+soy.$$escapeHtml("Edit the response to show the correct information.")+"</p></div>",""+aui.dialog.dialog2Content({titleText:"Variables not replaced",content:n,footerActionContent:'<button class="aui-button aui-button-primary dialog-submit-button">'+soy.$$escapeHtml("Ok, got it")+"</button>"})},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.warningDialog.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.warningDialog"),ServiceDesk.Internal.CannedResponses.Templates.editDialog=function(e,t){var s='<form class="aui top-label ajs-dirty-warning-exempt"><fieldset class="top-label"><div class="field-group top-label"><label for="cr-title">'+soy.$$escapeHtml("Name")+'</label><input class="text" type="text" id="cr-title" name="title" maxlength="255" autofocus value="'+("update"==e.action?soy.$$escapeHtml(e.cannedResponse.title):"")+'"></div></fieldset><fieldset class="top-label"><div class="field-group top-label"><div class="cr-editor-toolbar"><div class="column left"><label for="cr-text">'+soy.$$escapeHtml("Response")+"</label></div>"+(n(23).isFeatureEnabled("sd.canned.responses.variable.substitution")?'<div class="column right"><a href="#insert-variable" aria-owns="insert-variable" aria-haspopup="true" class="cr-insert-variable-trigger aui-button aui-style-default aui-dropdown2-trigger">'+soy.$$escapeHtml("Insert variable")+"</a></div>":"")+'</div><div class="wiki-edit-content"><textarea id="cr-text" name="text" class="textarea comment-textarea wiki-textfield mentionable" data-issuekey="'+soy.$$escapeHtml(e.issueKey)+'">'+("update"==e.action?soy.$$escapeHtml(e.cannedResponse.text):"")+"</textarea>"+(e.isRteEnabled?"<rich-editor></rich-editor>":"")+"</div>"+(e.isRteEnabled?'<div class="sd-rte-bar"></div>':"")+"</div></fieldset></form>";if(n(23).isFeatureEnabled("sd.canned.responses.variable.substitution")){s+='<div id="insert-variable" class="cr-insert-variable-dropdown aui-style-default aui-dropdown2"><ul class="aui-list-truncate">';for(var a=e.variables,o=a.length,r=0;r<o;r++){var i=a[r];s+='<li><a href="#" class="variable" data-variable-key="'+soy.$$escapeHtml(i.key)+'">'+soy.$$escapeHtml(i.label)+"</a></li>"}s+="</ul></div>"}return s+="update"==e.action?'<form class="aui"><fieldset>'+ServiceDesk.Internal.CannedResponses.Templates.cannedResponseInfo(e)+"</fieldset></form>":"",""+aui.dialog.dialog2Content({titleText:"add"==e.action?"Save response":"update"==e.action?"Edit response":"",content:s,footerActionContent:'<button class="aui-button aui-button-primary dialog-submit-button" type="submit">'+soy.$$escapeHtml("Save")+'</button><button class="aui-button aui-button-link dialog-close-button">'+soy.$$escapeHtml("Cancel")+"</button>"})},goog.DEBUG&&(ServiceDesk.Internal.CannedResponses.Templates.editDialog.soyTemplateName="ServiceDesk.Internal.CannedResponses.Templates.editDialog"),void 0===(s=function(){return ServiceDesk.Internal.CannedResponses.Templates}.apply(t,[]))||(e.exports=s)}},[[763,156,96,2,3,95,11,4,97,98,101,100,99,103,102,104,14,30,108,111,123]]]);;